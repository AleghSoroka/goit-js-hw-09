{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nform.addEventListener(\"input\", formInputHandler)\nform.addEventListener(\"submit\", formSubmitHandler)\n\nfunction formInputHandler(event) {\n    event.preventDefault();\n    const email = form.elements.email.value.trim();\n    const message = form.elements.message.value.trim();\n    const data = JSON.stringify({ email, message });\n    localStorage.setItem(STORAGE_KEY, data)\n}\n\nfunction formSubmitHandler(event) {\n    event.preventDefault();\n\n    // Reading user info\n    const email = form.elements.email.value.trim();\n    const message = form.elements.message.value.trim();\n   \n    // Verification weather there are not empty fields \n    if (email.length > 0 && message.length > 0) {\n        const data = { email, message };\n        console.log(data)\n        localStorage.removeItem(STORAGE_KEY)\n        form.reset();\n        return\n    }\n    else { alert(\"You have to complete the form. All fields are mandatory.\") };\n};\n// If the localStorage key doesn't exist jsn =\"\"\nconst jsn = localStorage.getItem(STORAGE_KEY) ?? \"\";\n\nif (jsn) {\n    // When the localStorage key exists\n    const savedData = JSON.parse(jsn);\n    form.elements.email.value = savedData.email;\n    form.elements.message.value = savedData.message;\n}\nelse {\n     // When the localStorage key doesn't exist\n    form.elements.email.value = \"\";\n    form.elements.message.value = \"\";\n};\n"],"names":["STORAGE_KEY","form","formInputHandler","formSubmitHandler","event","email","message","data","jsn","savedData"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EACpDA,EAAK,iBAAiB,QAASC,CAAgB,EAC/CD,EAAK,iBAAiB,SAAUE,CAAiB,EAEjD,SAASD,EAAiBE,EAAO,CAC7BA,EAAM,eAAc,EACpB,MAAMC,EAAQJ,EAAK,SAAS,MAAM,MAAM,OAClCK,EAAUL,EAAK,SAAS,QAAQ,MAAM,OACtCM,EAAO,KAAK,UAAU,CAAE,MAAAF,EAAO,QAAAC,CAAO,CAAE,EAC9C,aAAa,QAAQN,EAAaO,CAAI,CAC1C,CAEA,SAASJ,EAAkBC,EAAO,CAC9BA,EAAM,eAAc,EAGpB,MAAMC,EAAQJ,EAAK,SAAS,MAAM,MAAM,OAClCK,EAAUL,EAAK,SAAS,QAAQ,MAAM,OAG5C,GAAII,EAAM,OAAS,GAAKC,EAAQ,OAAS,EAAG,CAExC,QAAQ,IADK,CAAE,MAAAD,EAAO,QAAAC,EACN,EAChB,aAAa,WAAWN,CAAW,EACnCC,EAAK,MAAK,EACV,MACH,MACM,MAAM,0DAA0D,CAC3E,CAEA,MAAMO,EAAM,aAAa,QAAQR,CAAW,GAAK,GAEjD,GAAIQ,EAAK,CAEL,MAAMC,EAAY,KAAK,MAAMD,CAAG,EAChCP,EAAK,SAAS,MAAM,MAAQQ,EAAU,MACtCR,EAAK,SAAS,QAAQ,MAAQQ,EAAU,OAC5C,MAGIR,EAAK,SAAS,MAAM,MAAQ,GAC5BA,EAAK,SAAS,QAAQ,MAAQ"}