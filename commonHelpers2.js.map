{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\";\nconst form = document.querySelector(\".feedback-form\");\nconst emailFld = form.elements.email;\nconst messageFld = form.elements.message;\n\n// On Form start up we check the local storage key state\n// If the localStorage key doesn't exist jsn =\"\"\nconst jsn = localStorage.getItem(STORAGE_KEY) ?? \"\";\nif (jsn) {\n    // When the localStorage key exists\n    const savedData = JSON.parse(jsn);\n    emailFld.value = savedData.email;\n    messageFld.value = savedData.message;\n};\n//Eliminating the spaces\nform.addEventListener(\"change\", () =>\n    messageFld.value = messageFld.value.trim());\nform.addEventListener(\"input\", formInputHandler);\nform.addEventListener(\"submit\", formSubmitHandler);\n\nfunction formInputHandler() {\n    emailFld.value = emailFld.value.trim();\n    const email = emailFld.value;\n    const message = messageFld.value.trim();\n    const data = JSON.stringify({ email, message });\n    localStorage.setItem(STORAGE_KEY, data);\n}\n\nfunction formSubmitHandler(event) {\n    event.preventDefault();\n    // Reading user info\n    const email = emailFld.value;\n    const message = messageFld.value;\n    // Verification weather there are not empty fields \n    if (email && message) {\n        // Create a new user object and output it to the console window\n        console.log({ email, message });\n        // Reset the form and remove the key from local storage\n        form.reset();\n        localStorage.removeItem(STORAGE_KEY)\n    }\n    else { alert(\"You have to complete the form. All fields are mandatory.\") };\n};\n\n"],"names":["STORAGE_KEY","form","emailFld","messageFld","jsn","savedData","formInputHandler","formSubmitHandler","email","message","data","event"],"mappings":"wFAAA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,SAAS,MACzBE,EAAaF,EAAK,SAAS,QAI3BG,EAAM,aAAa,QAAQJ,CAAW,GAAK,GACjD,GAAII,EAAK,CAEL,MAAMC,EAAY,KAAK,MAAMD,CAAG,EAChCF,EAAS,MAAQG,EAAU,MAC3BF,EAAW,MAAQE,EAAU,OACjC,CAEAJ,EAAK,iBAAiB,SAAU,IAC5BE,EAAW,MAAQA,EAAW,MAAM,KAAM,CAAA,EAC9CF,EAAK,iBAAiB,QAASK,CAAgB,EAC/CL,EAAK,iBAAiB,SAAUM,CAAiB,EAEjD,SAASD,GAAmB,CACxBJ,EAAS,MAAQA,EAAS,MAAM,KAAI,EACpC,MAAMM,EAAQN,EAAS,MACjBO,EAAUN,EAAW,MAAM,KAAI,EAC/BO,EAAO,KAAK,UAAU,CAAE,MAAAF,EAAO,QAAAC,CAAO,CAAE,EAC9C,aAAa,QAAQT,EAAaU,CAAI,CAC1C,CAEA,SAASH,EAAkBI,EAAO,CAC9BA,EAAM,eAAc,EAEpB,MAAMH,EAAQN,EAAS,MACjBO,EAAUN,EAAW,MAEvBK,GAASC,GAET,QAAQ,IAAI,CAAE,MAAAD,EAAO,QAAAC,CAAS,CAAA,EAE9BR,EAAK,MAAK,EACV,aAAa,WAAWD,CAAW,GAEhC,MAAM,0DAA0D,CAC3E"}